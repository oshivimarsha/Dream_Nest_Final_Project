<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/OwlCarousel2/2.3.4/assets/owl.carousel.css" integrity="sha512-UTNP5BXLIptsaj5WdKFrkFov94lDx+eBvbKyoe1YAfjeRPC+gT5kyZ10kOHCfNZqEui1sxmqvodNUx3KbuYI/A==" crossorigin="anonymous"
          referrerpolicy="no-referrer" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/OwlCarousel2/2.3.4/assets/owl.theme.default.min.css" integrity="sha512-sMXtMNL1zRzolHYKEujM2AqCLUR9F2C4/05cdbxjjLSRvMQIciEPCQZo++nk7go3BtSuK9kfa/s+a4f4i5pLkw=="
          crossorigin="anonymous" referrerpolicy="no-referrer" />
    <script src="https://code.jquery.com/jquery-1.12.4.min.js" integrity="sha256-ZosEbRLbNQzLpnKIkEdrPv7lOy9C27hHQ+Xp8a4MxAQ=" crossorigin="anonymous"></script>
    <link
            href="https://cdn.jsdelivr.net/npm/remixicon@3.5.0/fonts/remixicon.css"
    <link rel="stylesheet" href="../css/style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">

    <!--=============== REMIXICONS ===============-->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/remixicon/3.5.0/remixicon.css" crossorigin="">

    <!--=============== SWIPER CSS ===============-->
    <link rel="stylesheet" href="../css/swiper-bundle.min.css">

    <!--=============== CSS ===============-->
    <link rel="stylesheet" href="../css/style.css">
    <title>Hotel Booking Mastery | DreamNest</title>
</head>
<body>
<!-- Navigation Bar -->
<nav>
    <div class="nav__bar">
        <div class="nav__header">
            <div class="logo nav__logo">
                <div>D</div>
                <span>DREAM<br />NEST</span>
            </div>
            <div class="nav__menu__btn" id="menu-btn">
                <i class="ri-menu-line"></i>
            </div>
        </div>
        <ul class="nav__links" id="nav-links">
            <li><a href="index.html">Home</a></li>
            <li><a href="#about">About</a></li>
            <li><a href="#room">Room</a></li>
            <li><a href="#feature">Feature</a></li>
            <li><a href="CutomerReview.html">Review</a></li>
            <li>
                <button class="login-btn">
                    <i class="ri-login-box-line"></i> <a href="login.html">Login</a>
                </button>
            </li>

        </ul>
    </div>
</nav>

<div class="video-container">
    <video autoplay loop muted playsinline>
        <source src="../assests/image/header.mp4" type="video/mp4">
        Your browser does not support the video tag.
    </video>
</div>

<header class="header" id="home">
    <a href="AdminDashboard.html">Admin Dashboard</a>
    <div class="section__container header__container">
        <p class="section__subheader">ABOUT US</p>
        <h1>The Perfect<br />Base For You</h1>
        <button class="btn">Take A Tour</button>
    </div>
</header>

<!-- Search Form -->
<div class="search-container">
    <form class="search-form">
        <div class="form-group">
            <label for="destination">Destination</label>
            <input type="text" id="destination" placeholder="Where are you going?">
        </div>
        <div class="form-group">
            <label for="check-in">Check In</label>
            <input type="date" id="check-in">
        </div>
        <div class="form-group">
            <label for="check-out">Check Out</label>
            <input type="date" id="check-out">
        </div>
        <div class="form-group">
            <label for="guests">Guests</label>
            <select id="guests">
                <option value="1">1 Adult</option>
                <option value="2">2 Adults</option>
                <option value="3">3 Adults</option>
                <option value="4">4 Adults</option>
                <option value="family">2 Adults, 2 Children</option>
            </select>
        </div>
        <div class="form-group">
            <label>&nbsp;</label>
            <button type="submit" class="search-btn">Search</button>
        </div>
    </form>
</div>

<!-- --------------------------------------- About Section ------------------------------------------ -->
<!-- About Section -->
<section class="about-section">
    <div class="about-container">
        <div class="about-image">
            <img src="../assests/image/img.png" alt="Beautiful coastal view">
        </div>
        <div class="about-content">
            <h2>Discover New Horizons</h2>

            <div class="tab-container">
                <div class="tab-buttons">
                    <button class="tab-btn active" data-tab="about">ABOUT US</button>
                    <button class="tab-btn" data-tab="why">WHY CHOOSE US</button>
                    <button class="tab-btn" data-tab="mission">OUR MISSION</button>
                </div>

                <div class="tab-content active" id="about-tab">
                    <p>Wonder Tour is committed to bringing our clients the best in value and quality travel arrangements. We are passionate about travel and sharing the world's wonders with you.</p>
                    <p>Founded in 2010, we've been creating memorable experiences for travelers from all walks of life. Our team of experienced travel experts handpick each destination and activity to ensure authentic and enriching experiences.</p>
                </div>

                <div class="tab-content" id="why-tab">
                    <p>With Wonder Tour, you're not just another customer – you're part of our travel family. We pride ourselves on personalized service and attention to detail that larger agencies simply cannot match.</p>
                    <p>Our local expertise, competitive pricing, and 24/7 support ensure that your journey is smooth, enjoyable, and exceeds your expectations. We work with trusted partners to deliver exceptional experiences.</p>
                </div>

                <div class="tab-content" id="mission-tab">
                    <p>Our mission is to inspire and enable people to explore the world, experience different cultures, and create lifelong memories through responsible travel.</p>
                    <p>We believe travel has the power to transform lives, foster understanding between cultures, and contribute positively to the destinations we visit. We're committed to sustainable tourism practices that respect local communities and preserve natural environments.</p>
                </div>
            </div>

            <div class="btn-container">
                <a href="#" class="btn-primary">Get in Touch</a>
                <a href="#" class="btn-secondary">Read More</a>
            </div>
        </div>
    </div>
</section>

<!-- --------------------------------------- Top Destination Section ------------------------------------------ -->
<div class="container">
    <div class="feature__container">
        <p class="section__subheader">Sri Lanka</p>
        <h2 class="section__header">Top Places</h2>
    </div>

    <div class="places-container">
        <div class="places-carousel" id="placesCarousel">
            <button class="carousel-control prev-btn" id="prevBtn">❮</button>
            <div class="carousel-inner" id="carouselInner">
                <!-- Places will be added here dynamically -->
            </div>
            <button class="carousel-control next-btn" id="nextBtn">❯</button>
        </div>
    </div>
</div>

<!-- View Place Details Modal -->
<div class="modal-overlay detail-modal" id="viewPlaceModal">
    <div class="modal">
        <div class="modal-header">
            <h3 class="modal-title" id="detailTitle">Place Details</h3>
            <button class="modal-close" id="closeViewModal">&times;</button>
        </div>
        <div class="modal-body" id="placeDetails">
            <!-- Place details will be loaded here -->
        </div>
    </div>
</div>

<div class="notification" id="notification"></div>

<!-- --------------------------------------- Core Features Section ------------------------------------------ -->
<section class="section__container feature__container" id="feature">
    <p class="section__subheader">FACILITIES</p>
    <h2 class="section__header">Core Features</h2>
    <div class="feature__grid">
        <div class="feature__card">
            <span><i class="ri-thumb-up-line"></i></span>
            <h4>Have High Rating</h4>
            <p>
                We take pride in curating a selection of hotels that consistently
                receive high ratings and positive reviews.
            </p>
        </div>
        <div class="feature__card">
            <span><i class="ri-time-line"></i></span>
            <h4>Quite Hours</h4>
            <p>
                We understand that peace and uninterrupted rest are essential for a
                rejuvenating experience.
            </p>
        </div>
        <div class="feature__card">
            <span><i class="ri-map-pin-line"></i></span>
            <h4>Best Location</h4>
            <p>
                At our hotel booking website, we take pride in offering
                accommodations in the most prime and sought-after locations.
            </p>
        </div>
        <div class="feature__card">
            <span><i class="ri-close-circle-line"></i></span>
            <h4>Free Cancellation</h4>
            <p>
                We understand that travel plans can change unexpectedly, which is
                why we offer the flexibility of free cancellation.
            </p>
        </div>
        <div class="feature__card">
            <span><i class="ri-wallet-line"></i></span>
            <h4>Payment Options</h4>
            <p>
                Our hotel booking website offers a range of convenient payment
                options to suit your preferences.
            </p>
        </div>
        <div class="feature__card">
            <span><i class="ri-coupon-line"></i></span>
            <h4>Special Offers</h4>
            <p>
                Whether you're planning a romantic getaway, or a business trip, our
                carefully curated special offers cater to all your needs.
            </p>
        </div>
    </div>
</section>


<!-- --------------------------------------- Customer Review Section ------------------------------------------ -->
<div class="container">
    <div class="section-title">
        <h2>What Our Customers Say</h2>
        <p>Read genuine feedback from our valued customers and discover why they choose us.</p>
    </div>

    <div class="testimonial-slider">
        <div class="slides-container" id="slidesContainer">
            <div class="slide" style="background-image: linear-gradient(135deg, #4a6bdf, #82b1ff);">
                <div class="loading">
                    <div class="spinner"></div>
                    <span>Loading reviews...</span>
                </div>
            </div>
        </div>

        <div class="navigation-arrows">
            <div class="arrow" id="prevArrow">
                <i class="fas fa-chevron-left"></i>
            </div>
            <div class="arrow" id="nextArrow">
                <i class="fas fa-chevron-right"></i>
            </div>
        </div>

        <div class="dots" id="dots"></div>
    </div>
</div>


<!-- --------------------------------------- Search Section ------------------------------------------ -->




<!-- --------------------------------------- Search Section ------------------------------------------ -->




<!-- --------------------------------------- Search Section ------------------------------------------ -->
<footer class="footer">
    <div class="section__container footer__container">
        <div class="footer__col">
            <div class="logo footer__logo">
                <div>H</div>
                <span>HOTEL<br/>MIRANDA</span>
            </div>
            <p class="section__description">
                Lorem ipsum dolor sit amet consectetur adipisicing elit. Nihil,
                laudantium unde. Doloremque eaque debitis laborum labore voluptates
                iste molestiae consectetur.
            </p>
            <ul class="footer__socials">
                <li>
                    <a href="#"><i class="ri-youtube-fill"></i></a>
                </li>
                <li>
                    <a href="#"><i class="ri-instagram-line"></i></a>
                </li>
                <li>
                    <a href="#"><i class="ri-facebook-fill"></i></a>
                </li>
                <li>
                    <a href="#"><i class="ri-linkedin-fill"></i></a>
                </li>
            </ul>
        </div>
        <div class="footer__col">
            <h4>Services</h4>
            <div class="footer__links">
                <li><a href="#">Online Booking</a></li>
                <li><a href="#">Room Customization</a></li>
                <li><a href="#">Virtual Tours</a></li>
                <li><a href="#">Special Offers</a></li>
                <li><a href="#">Concierge Services</a></li>
                <li><a href="#">Customer Support</a></li>
            </div>
        </div>
        <div class="footer__col">
            <h4>Contact Us</h4>
            <div class="footer__links">
                <li>
                    <span><i class="ri-phone-fill"></i></span>
                    <div>
                        <h5>Phone Number</h5>
                        <p>+91 9876543210</p>
                    </div>
                </li>
                <li>
                    <span><i class="ri-record-mail-line"></i></span>
                    <div>
                        <h5>Email</h5>
                        <p>info@hotelmiranda.com</p>
                    </div>
                </li>
                <li>
                    <span><i class="ri-map-pin-2-fill"></i></span>
                    <div>
                        <h5>Location</h5>
                        <p>First St. NYC</p>
                    </div>
                </li>
            </div>
        </div>
    </div>
    <div class="footer__bar">
        Copyright © 2023 Web Design Mastery. All rights reserved.
    </div>
</footer>

<script src="../lib/jquery-3.7.1.min.js"></script>
<!-- About Script -->
<script>
    // Tab Functionality
    document.addEventListener('DOMContentLoaded', function() {
        const tabButtons = document.querySelectorAll('.tab-btn');
        const tabContents = document.querySelectorAll('.tab-content');

        tabButtons.forEach(button => {
            button.addEventListener('click', function() {
                // Remove active class from all buttons
                tabButtons.forEach(btn => {
                    btn.classList.remove('active');
                });

                // Add active class to clicked button
                this.classList.add('active');

                // Hide all tab contents
                tabContents.forEach(content => {
                    content.classList.remove('active');
                });

                // Show the corresponding tab content
                const tabId = this.getAttribute('data-tab');
                document.getElementById(tabId + '-tab').classList.add('active');
            });
        });

        // Sticky header functionality
        const header = document.querySelector('header');
        const hero = document.querySelector('.hero');

        window.addEventListener('scroll', function() {
            if (window.scrollY > 100) {
                header.style.boxShadow = '0 2px 10px rgba(0, 0, 0, 0.1)';
            } else {
                header.style.boxShadow = 'none';
            }
        });
    });
</script>

<!-- Top Destination Script -->
<script>
    const slider = document.getElementById('slider');
    let slidePosition = 0;
    const cardWidth = 320; // card width + gap
    const visibleCards = 3;
    const totalCards = 5;

    function slideLeft() {
        if (slidePosition > 0) {
            slidePosition--;
            updateSliderPosition();
        }
    }

    function slideRight() {
        if (slidePosition < totalCards - visibleCards) {
            slidePosition++;
            updateSliderPosition();
        }
    }

    function updateSliderPosition() {
        slider.style.transform = `translateX(-${slidePosition * cardWidth}px)`;
    }
</script>

<!-- Core Features -->
<script>
    // Optional JavaScript for enhanced interactions
    document.addEventListener('DOMContentLoaded', function() {
        const featureCards = document.querySelectorAll('.feature-card');

        featureCards.forEach(card => {
            card.addEventListener('mouseenter', function() {
                this.style.transform = 'translateY(-10px)';
            });

            card.addEventListener('mouseleave', function() {
                this.style.transform = 'translateY(0)';
            });
        });
    });
</script>

<!-- Customer Review-->
<script>
    const API_URL = 'http://localhost:8080/api/v1/reviews/public';

    const slidesContainer = document.getElementById('slidesContainer');
    const dotsContainer = document.getElementById('dots');
    const prevArrow = document.getElementById('prevArrow');
    const nextArrow = document.getElementById('nextArrow');

    let reviews = [];
    let currentSlide = 0;
    let slideInterval;
    let touchStartX = 0;
    let touchEndX = 0;

    // Background options
    const backgroundImages = [
        '/images/reviews/bg1.jpg',
        '/images/reviews/bg2.jpg',
        '/images/reviews/bg3.jpg',
        '/images/reviews/bg4.jpg',
        '/images/reviews/bg5.jpg'
    ];

    // Fallback background gradients if images fail to load
    const backgroundGradients = [
        'linear-gradient(135deg, #4a6bdf, #82b1ff)',
        'linear-gradient(135deg, #6a3093, #a044ff)',
        'linear-gradient(135deg, #11998e, #38ef7d)',
        'linear-gradient(135deg, #fc5c7d, #6a82fb)',
        'linear-gradient(135deg, #2b5876, #4e4376)'
    ];

    function formatDate(dateString) {
        if (!dateString) return 'N/A';
        const date = new Date(dateString);
        if (isNaN(date.getTime())) return 'N/A';
        return date.toLocaleDateString('en-US', {
            year: 'numeric',
            month: 'long',
            day: 'numeric'
        });
    }

    function getInitials(name) {
        if (!name || name === 'Anonymous') return 'A';
        return name.split(' ').map(n => n[0]).join('').toUpperCase().substring(0, 2);
    }

    async function fetchReviews() {
        try {
            const response = await fetch(API_URL);
            if (!response.ok) throw new Error(`Failed to fetch reviews: ${response.status}`);
            const data = await response.json();
            reviews = data;
            renderSlides();
            startSlideShow();
        } catch (error) {
            console.error('Error fetching reviews:', error);
            slidesContainer.innerHTML = `
                <div class="slide" style="background-image: linear-gradient(135deg, #4a6bdf, #82b1ff);">
                    <div class="slide-content">
                        <div class="error-message">
                            <i class="fas fa-exclamation-circle" style="font-size: 48px; margin-bottom: 20px;"></i>
                            <p class="review-text">Failed to load reviews. Please try again later.</p>
                            <button style="padding: 10px 20px; background-color: white; color: #4a6bdf; border: none; border-radius: 5px; margin-top: 20px; cursor: pointer; font-weight: 500;" onclick="fetchReviews()">Retry</button>
                        </div>
                    </div>
                </div>
            `;
        }
    }

    function createStarRating(rating) {
        let stars = '';
        const numRating = Number(rating) || 0;

        for (let i = 1; i <= 5; i++) {
            if (i <= numRating) {
                stars += '<span class="star"><i class="fas fa-star"></i></span>';
            } else if (i - 0.5 <= numRating) {
                stars += '<span class="star"><i class="fas fa-star-half-alt"></i></span>';
            } else {
                stars += '<span class="star" style="color: rgba(255, 255, 255, 0.3);"><i class="far fa-star"></i></span>';
            }
        }

        return stars;
    }

    function renderSlides() {
        if (reviews.length === 0) {
            slidesContainer.innerHTML = `
                <div class="slide" style="background-image: linear-gradient(135deg, #4a6bdf, #82b1ff);">
                    <div class="slide-content">
                        <div class="quote-icon"><i class="fas fa-quote-left"></i></div>
                        <p class="review-text">No reviews available at the moment.</p>
                    </div>
                </div>
            `;
            return;
        }

        slidesContainer.innerHTML = '';
        dotsContainer.innerHTML = '';

        reviews.forEach((review, index) => {
            const slide = document.createElement('div');
            slide.className = 'slide';

            // Set background image with fallback
            const bgImage = backgroundImages[index % backgroundImages.length];
            const bgGradient = backgroundGradients[index % backgroundGradients.length];

            // Try to load image first, use gradient as fallback
            const img = new Image();
            img.onload = () => {
                slide.style.backgroundImage = `url('${bgImage}')`;
            };
            img.onerror = () => {
                slide.style.backgroundImage = bgGradient;
            };
            img.src = bgImage;

            // Set fallback initially
            slide.style.backgroundImage = bgGradient;

            const slideContent = document.createElement('div');
            slideContent.className = 'slide-content';

            const userInfo = document.createElement('div');
            userInfo.className = 'user-info';

            const userAvatar = document.createElement('div');
            userAvatar.className = 'user-avatar';
            const initials = document.createElement('span');
            initials.className = 'initials';
            initials.textContent = getInitials(review.customerName);
            userAvatar.appendChild(initials);

            const userName = document.createElement('div');
            userName.className = 'user-name';
            userName.textContent = review.customerName || 'Anonymous';

            const reviewDate = document.createElement('div');
            reviewDate.className = 'review-date';
            reviewDate.textContent = formatDate(review.create_at);

            userInfo.appendChild(userAvatar);
            userInfo.appendChild(userName);
            userInfo.appendChild(reviewDate);

            const quoteIcon = document.createElement('div');
            quoteIcon.className = 'quote-icon';
            quoteIcon.innerHTML = '<i class="fas fa-quote-left"></i>';

            const reviewText = document.createElement('p');
            reviewText.className = 'review-text';
            reviewText.textContent = review.comment || 'No comment provided';

            const rating = document.createElement('div');
            rating.className = 'rating';
            rating.innerHTML = createStarRating(review.rating || 5);

            slideContent.appendChild(userInfo);
            slideContent.appendChild(quoteIcon);
            slideContent.appendChild(reviewText);
            slideContent.appendChild(rating);

            slide.appendChild(slideContent);
            slidesContainer.appendChild(slide);

            const dot = document.createElement('div');
            dot.className = 'dot';
            if (index === 0) dot.classList.add('active');
            dot.addEventListener('click', () => goToSlide(index));
            dotsContainer.appendChild(dot);
        });

        updateSlidePosition();
    }

    function goToSlide(index) {
        currentSlide = index;
        updateSlidePosition();
        updateDots();
        resetInterval();
    }

    function updateSlidePosition() {
        slidesContainer.style.transform = `translateX(-${currentSlide * 100}%)`;
    }

    function updateDots() {
        const dots = document.querySelectorAll('.dot');
        dots.forEach((dot, index) => {
            dot.classList.toggle('active', index === currentSlide);
        });
    }

    function nextSlide() {
        currentSlide = (currentSlide + 1) % reviews.length;
        updateSlidePosition();
        updateDots();
    }

    function prevSlide() {
        currentSlide = (currentSlide - 1 + reviews.length) % reviews.length;
        updateSlidePosition();
        updateDots();
    }

    function startSlideShow() {
        if (reviews.length <= 1) return;
        slideInterval = setInterval(nextSlide, 5000);
    }

    function resetInterval() {
        clearInterval(slideInterval);
        startSlideShow();
    }

    function handleTouchStart(e) {
        touchStartX = e.touches[0].clientX;
    }

    function handleTouchEnd(e) {
        touchEndX = e.changedTouches[0].clientX;
        handleSwipe();
    }

    function handleSwipe() {
        if (touchStartX - touchEndX > 50) {
            nextSlide();
        } else if (touchEndX - touchStartX > 50) {
            prevSlide();
        }
        resetInterval();
    }

    document.addEventListener('DOMContentLoaded', () => {
        fetchReviews();

        slidesContainer.addEventListener('touchstart', handleTouchStart, false);
        slidesContainer.addEventListener('touchend', handleTouchEnd, false);

        prevArrow.addEventListener('click', prevSlide);
        nextArrow.addEventListener('click', nextSlide);
    });

</script>

<script src="../js/place.js"></script>
</body>
</html>